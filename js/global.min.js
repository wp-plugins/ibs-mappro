function siteUrl(){var a=jQuery.url(jQuery(location).attr("href")).attr("file");return jQuery(location).attr("href").split(a)[0]}function getUriQuery(){var a={},b=jQuery.url(jQuery(location).attr("href")).attr("query");if(b){var b=b.split("&"),d;for(d in b){var c=b[d].split("=");a[c[0]]=c[1]}}return a}function removeHtmlStr(a){return jQuery("<div>").html(a).text()}
function padLeftStr(a,b,d){"string"!==typeof a&&(a=a.toString());"undefined"===typeof b&&(b=8);"undefined"===typeof d&&(d=" ");return a.length<b?padLeftStr(d+a,b,d):a}function padRightStr(a,b,d){"string"!==typeof a&&(a=a.toString());"undefined"===typeof b&&(b=8);"undefined"===typeof d&&(d=" ");return a.length<b?padRightStr(a+d,b,d):a}function hex(a){var b="0123456789abcdef".split("");return isNaN(a)?"00":b[(a-a%16)/16]+b[a%16]}
function isUrl(a){return/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(a)}function rgb2hex(a){var b=a.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);return b?"#"+hex(b[1])+hex(b[2])+hex(b[3]):a}function setCurrentColor(a){var b=a.find(".line-attr").find(".colorpicker-trigger").css("background-color");a.find(".colorpicker-picker-span").each(function(a,c){b===jQuery(c).css("background-color")?jQuery(c).addClass("active"):jQuery(c).removeClass("active")})}
function getExtension(a){if("string"===typeof a&&3<a.length){var b=a.lastIndexOf(".");if(-1!==b)return a.substring(b+1)}return!1}function getDirname(a){var b=a.lastIndexOf("/");a=a.substring(0,b);b=a.lastIndexOf("/");return a=a.substring(b+1)}function getFilename(a){var b=a.lastIndexOf("/");-1<b&&(a=a.substring(b+1));b=a.lastIndexOf(".");return-1!==b?a.substring(0,b):a}function spin(a){a?jQuery("body").addClass("wait"):jQuery("body").removeClass("wait")}
function midPoint(a,b){return new google.maps.LatLng(b.lat()-.5*(b.lat()-a.lat()),b.lng()-.5*(b.lng()-a.lng()))}function distanceFrom(a,b){try{return google.maps.geometry.spherical.computeDistanceBetween(a,b)}catch(d){return 0}}function pathLength(a){try{return google.maps.geometry.spherical.computeLength(a)}catch(b){return 0}}
function cleanDescription(a){u=a.replace("<![CDATA[","").replace("]]\x3e","");u=u.replace(/\&amp;/g,"&");u=u.replace(/\&lt;/g,"<");u=u.replace(/\&quot;/g,'"');u=u.replace(/\&apos;/g,"'");return u=u.replace(/\&gt;/g,">")}function getCDATA(a){return"string"===typeof a?(u=a.replace("<![CDATA[","").replace("]]\x3e",""),u=u.replace(/\&amp;/g,"&"),u=u.replace(/\&lt;/g,"<"),u=u.replace(/\&quot;/g,'"'),u=u.replace(/\&apos;/g,"'"),u=u.replace(/\&gt;/g,">")):""}
function dechex(a){0>a&&(a=4294967295+a+1);return parseInt(a,10).toString(16)}function colorKML(a,b){"rgb"===b.substr(0,3)&&(b=rgb2hex(b));var d=Math.ceil(255*a),d=dechex(d),c=b.substr(1,2),f=b.substr(3,2),h=b.substr(5,2);return d+h+f+c}
Date.prototype.toISOString||function(){function a(a){a=String(a);1===a.length&&(a="0"+a);return a}Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"."+String((this.getUTCMilliseconds()/1E3).toFixed(3)).slice(2,5)+"Z"}}();
function utf8_encode(a){if(null===a||"undefined"===typeof a)return"";a+="";var b="",d,c,f=0;d=c=0;for(var f=a.length,h=0;h<f;h++){var g=a.charCodeAt(h),m=null;if(128>g)c++;else if(127<g&&2048>g)m=String.fromCharCode(g>>6|192,g&63|128);else if(g&1)m=String.fromCharCode(g>>12|224,g>>6&63|128,g&63|128);else{if(g&1)throw new RangeError("Unmatched trail surrogate at "+h);m=a.charCodeAt(++h);if(m&1)throw new RangeError("Unmatched lead surrogate at "+(h-1));g=((g&1023)<<10)+(m&1023)+65536;m=String.fromCharCode(g>>
18|240,g>>12&63|128,g>>6&63|128,g&63|128)}null!==m&&(c>d&&(b+=a.slice(d,c)),b+=m,d=c=h+1)}c>d&&(b+=a.slice(d,f));return b}
function sha1(a){var b=function(a,b){return a<<b|a>>>32-b},d=function(a){var b="",c,d;for(c=7;0<=c;c--)d=a>>>4*c&15,b+=d.toString(16);return b},c,f,h=Array(80),g=1732584193,m=4023233417,r=2562383102,t=271733878,v=3285377520,e,k,l,n,p;a=this.utf8_encode(a);e=a.length;var q=[];for(c=0;c<e-3;c+=4)f=a.charCodeAt(c)<<24|a.charCodeAt(c+1)<<16|a.charCodeAt(c+2)<<8|a.charCodeAt(c+3),q.push(f);switch(e%4){case 0:c=2147483648;break;case 1:c=a.charCodeAt(e-1)<<24|8388608;break;case 2:c=a.charCodeAt(e-2)<<24|
a.charCodeAt(e-1)<<16|32768;break;case 3:c=a.charCodeAt(e-3)<<24|a.charCodeAt(e-2)<<16|a.charCodeAt(e-1)<<8|128}for(q.push(c);14!=q.length%16;)q.push(0);q.push(e>>>29);q.push(e<<3&4294967295);for(a=0;a<q.length;a+=16){for(c=0;16>c;c++)h[c]=q[a+c];for(c=16;79>=c;c++)h[c]=b(h[c-3]^h[c-8]^h[c-14]^h[c-16],1);f=g;e=m;k=r;l=t;n=v;for(c=0;19>=c;c++)p=b(f,5)+(e&k|~e&l)+n+h[c]+1518500249&4294967295,n=l,l=k,k=b(e,30),e=f,f=p;for(c=20;39>=c;c++)p=b(f,5)+(e^k^l)+n+h[c]+1859775393&4294967295,n=l,l=k,k=b(e,30),
e=f,f=p;for(c=40;59>=c;c++)p=b(f,5)+(e&k|e&l|k&l)+n+h[c]+2400959708&4294967295,n=l,l=k,k=b(e,30),e=f,f=p;for(c=60;79>=c;c++)p=b(f,5)+(e^k^l)+n+h[c]+3395469782&4294967295,n=l,l=k,k=b(e,30),e=f,f=p;g=g+f&4294967295;m=m+e&4294967295;r=r+k&4294967295;t=t+l&4294967295;v=v+n&4294967295}p=d(g)+d(m)+d(r)+d(t)+d(v);return p.toLowerCase()}function initialCapsX(a){return a.toLowerCase().replace(/\b[a-z]/g,function(a){return a.toUpperCase()})}
function initialCaps(a){return a.toLowerCase().replace(/^[\u00C0-\u1FFF\u2C00-\uD7FF\w]|\s[\u00C0-\u1FFF\u2C00-\uD7FF\w]/g,function(a){return a.toUpperCase()})};
